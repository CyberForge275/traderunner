# InsideBar Strategy - Single Configuration
# This file controls BOTH backtesting and live trading

metadata:
  strategy: InsideBar
  version: "1.02"
  config_version: "1.0.0"
  min_core_version: "2.0.0"
  max_core_version: "2.9.99"
  created_at: "2025-12-06T23:00:00Z"
  author: "CyberForge275"
  description: Inside Bar Breakout Strategy with ATR-based risk management

parameters:
  # === Core Parameters (affect signal generation) ===

  # ATR calculation period
  atr_period: 14

  # Risk/Reward ratio for take-profit calculation
  # TP = Entry + (Risk * risk_reward_ratio)
  risk_reward_ratio: 2.0

  # Minimum mother bar size as multiple of ATR
  # Set to 0 to disable filtering
  min_mother_bar_size: 0.5

  # Require close beyond mother bar for breakout confirmation
  # true = conservative (use close price)
  # false = aggressive (use high/low)
  breakout_confirmation: true

  # Inside bar detection mode
  # "inclusive" = current bar can touch mother bar levels
  # "strict" = current bar must be strictly inside
  inside_bar_mode: inclusive

  # === Live Trading Parameters (ignored in backtest) ===

  # Number of recent candles to consider
  lookback_candles: 50

  # Maximum age of pattern before invalidation (in candles)
  max_pattern_age_candles: 12

  # Maximum price deviation from pattern (in ATR multiples)
  max_deviation_atr: 3.0

  # Maximum position size as percentage of equity
  max_position_pct: 100

  # Maximum stop-loss distance in ticks
  stop_distance_cap_ticks: 1000

  # Order validity policy (how long orders remain active)
  # Options: "session_end", "one_bar", "fixed_minutes"
  order_validity_policy: session_end

backtesting:
  # Execution lag in number of candles
  # 0 = enter on breakout candle close
  # 1 = enter on next candle open
  execution_lag: 0

  # Session filtering (optional)
  session_filter:
    enabled: false
    start_hour: 9
    end_hour: 16

  # Phase 2: Compound Sizing (Optional)
  compound_sizing: false
  compound_equity_basis: cash_only

live_trading:
  # Signal deduplication enabled
  deduplication: true

  # Pattern cache reset frequency
  reset_frequency: daily

  
